# Проект "Банковские виджеты"

## Описание:

Проект "Банковские виджеты" - это функционал на Python для вывода информации о банковских операциях пользователю.
В данный момент реализованы следующие функции: маскировка номера карты или счета, сортировка операций по дате
или статусу, получение даты операции в формате "ДД.ММ.ГГГГ".

## Установка:

1. Клонируйте репозиторий:
```
git clone https://github.com/username/project-x.git
```
2. Перейдите в директорию проекта:
```
cd ваш_проект
```
## Примеры использования функций:

1. Функция *get_mask_card_number* принимает на вход номер карты и возвращает ее маску. Номер карты замаскирован
и отображается в формате XXXX XX** **** XXXX , где X — это цифра номера.

Пример работы функции:
```
7000792289606361     # входной аргумент
7000 79** **** 6361  # выход функции
```

2. Функция *get_mask_account* принимает на вход номер счета и возвращает его маску. 
Номер счета замаскирован и отображается в формате **XXXX , где X — это цифра номера.

Пример работы функции:
```
73654108430135874305  # входной аргумент
**4305  # выход функции
```

3. Функция *mask_account_card* принимает на вход счет или карту и возвращает его в замаскированном виде.

Пример работы функции:
```
Пример для карты:
Visa Platinum 7000792289606361  # входной аргумент
Visa Platinum 7000 79** **** 6361  # выход функции

Пример для счета:
Счет 73654108430135874305  # входной аргумент
Счет **4305  # выход функции
```

4. Функция *get_date* принимает на вход строку с датой в формате **"2024-03-11T02:26:18.671407"** и возвращает строку
с датой в формате **"ДД.ММ.ГГГГ**.


5. Фнукция *filter_by_state* принимает список словарей и опционально значение для ключа state (по умолчанию 'EXECUTED').
Функция возвращает новый список словарей, содержащий только те словари, у которых ключ state соответствует 
указанному значению.

Пример работы функции:
```
Пример входных данных:
[{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, 
{'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}, 
{'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, 
{'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}]

Пример работы функции со статусом по умолчанию 'EXECUTED'
[{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, 
{'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}]

Пример работы функции со статусом 'CANCELED'
[{'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, 
{'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}]
```
7.Функция *sort_by_date* принимает список словарей и необязательный параметр, задающий порядок сортировки
(по умолчанию — убывание). Функция должна возвращать новый список, отсортированный по дате (date).

Пример работы функции:
```
Пример входных данных:
[{'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, 
{'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'},
[{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, 
{'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}]

Пример работы функции при сортировке по убыванию
[{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, 
{'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}, 
{'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, 
{'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}]
```

## Тестирование:
Тестирование было реализовано с помощью библиотеки *pytest*.
Были реализованы тест-кейсы для перечисленных функций в разделе "Примеры использования функций".

#### Модуль masks:

1. Функция *get_mask_card_number*:

   - Тестирование правильности маскирования номера карты.
   - Проверка работы функции на различных входных форматах номеров карт, включая граничные случаи
и нестандартные длины номеров.
   

2. Функция *get_mask_account*:

   - Тестирование правильности маскирования номера счета.
   - Проверка работы функции с различными форматами и длинами номеров счетов.
   - Проверка, что функция корректно обрабатывает входные данные, где номер счета меньше ожидаемой длины.

#### Модуль widget:

1. Функция *mask_account_card*:

    - Тесты для проверки, что функция корректно распознает и применяет нужный тип маскировки в зависимости 
от типа входных данных (карта или счет).
    - Параметризованные тесты с разными типами карт и счетов для проверки универсальности функции.
    - Тестирование функции на обработку некорректных входных данных и проверка ее устойчивости к ошибкам.


2. Функция *get_data*:
    
   - Тестирование правильности преобразования даты.
   - Проверка работы функции на различных входных форматах даты, включая граничные случаи и нестандартные строки 
с датами.
   - Проверка, что функция корректно обрабатывает входные строки, где отсутствует дата.

#### Модуль processing:

1. Функция *filter_by_state*:

    - Тестирование фильтрации списка словарей по заданному статусу state.
    - Проверка работы функции при отсутствии словарей с указанным статусом state в списке.
    - Параметризация тестов для различных возможных значений статуса state.


2. Функция *sort_by_date*:
    
   - Тестирование сортировки списка словарей по датам в порядке убывания и возрастания.
   - Проверка корректности сортировки при одинаковых датах.

## Лицензия:

Этот проект лицензирован по [лицензии MIT](LICENSE).